# Blues 乐句库功能说明

## 📚 功能概述

已为即兴创作模块添加了**经典 Blues 乐句库**功能，包含 8 个精心设计的 Blues 乐句，涵盖多种风格和难度级别。

## ✨ 主要特性

### 1. **经典乐句数据库**
- 📖 **8 个经典乐句**，基于通用 Blues 理论模式
- 🎸 **多种风格**：芝加哥、德州、三角洲、现代、经典
- 📊 **三个难度级别**：初级、中级、高级
- 🎵 **完整 TAB 谱**：包含品位、时值、演奏技巧

### 2. **智能筛选系统**
- 按**难度**筛选：初级/中级/高级
- 按**风格**筛选：芝加哥/德州/三角洲/现代/经典
- 实时更新乐句列表

### 3. **音频播放功能**
- 🔊 使用 **Tone.js** 合成吉他音色
- 🎹 自动转调到当前选择的调式
- ⏯️ 播放/停止控制
- 🎯 实时高亮当前演奏的音符

### 4. **可视化 TAB 谱**
- 📝 标准吉他 TAB 谱显示
- 🎨 实时高亮正在播放的音符
- 🎼 技巧标记：
  - `b` = 推弦 (bend)
  - `/` = 滑音 (slide)
  - `h` = 锤击 (hammer-on)
  - `p` = 勾弦 (pull-off)
  - `~` = 颤音 (vibrato)

### 5. **演奏提示**
- 💡 每个乐句都包含专业的演奏建议
- 📖 详细的乐句描述和背景信息

## 🎸 乐句列表

| ID | 名称 | 风格 | 难度 | 调式 | 描述 |
|---|---|---|---|---|---|
| lick-001 | 经典小调 Turnaround | 芝加哥 | 初级 | A | 12小节 Blues 回转乐句 |
| lick-002 | B.B. King 风格推弦 | 经典 | 中级 | A | 强调表现力的推弦乐句 |
| lick-003 | 德州 Blues 双音 | 德州 | 中级 | A | SRV 风格双音演奏 |
| lick-004 | 三角洲 Blues 滑音 | 三角洲 | 初级 | E | 简单但富有表现力 |
| lick-005 | 现代 Blues 快速跑动 | 现代 | 高级 | A | 融合摇滚元素 |
| lick-006 | 芝加哥风格锤击音 | 芝加哥 | 中级 | G | 锤击和勾弦技巧 |
| lick-007 | 经典 I-IV 转换乐句 | 经典 | 初级 | E | 和弦转换过渡 |
| lick-008 | 半音下行乐句 | 现代 | 中级 | A | 增加张力的半音进行 |

## 🚀 使用方法

### 访问乐句库
1. 进入 **Blues 练习页面**
2. 选择 **即兴创作** 模式
3. 点击 **🎸 经典乐句库** 标签

### 筛选乐句
1. 使用**难度**下拉菜单选择适合的级别
2. 使用**风格**下拉菜单选择喜欢的 Blues 风格
3. 浏览筛选后的乐句列表

### 学习乐句
1. **点击乐句卡片**查看详细信息
2. 查看 **TAB 谱**了解指法
3. 阅读**演奏提示**掌握技巧
4. 点击 **▶️ 播放**按钮试听
5. 观察**高亮音符**跟随演奏

### 练习建议
1. 从**初级乐句**开始
2. 先**慢速练习**，熟悉指法
3. 注意**演奏技巧**标记
4. 在**不同调式**中练习
5. 尝试**变化和组合**乐句

## 🛠️ 技术实现

### 核心技术栈
- **React + TypeScript**：组件开发
- **Tone.js**：音频合成和播放
- **Framer Motion**：动画效果
- **Tailwind CSS**：样式设计

### 文件结构
```
src/
├── types/index.ts                    # 类型定义
├── data/bluesLicks.ts                # 乐句数据库
├── components/
│   ├── BluesLicksPlayer/index.tsx    # 乐句播放器组件
│   └── Improvisation/index.tsx       # 即兴创作组件
```

### 关键功能
- **自动转调**：`transposeLick()` 函数
- **TAB 转音符**：`tabToNote()` 转换算法
- **音频合成**：Tone.js PolySynth
- **实时高亮**：Tone.Draw 调度

## 📝 数据格式

### BluesLick 接口
```typescript
interface BluesLick {
  id: string;              // 唯一标识
  name: string;            // 乐句名称
  style: LickStyle;        // 风格类型
  difficulty: LickDifficulty; // 难度级别
  key: Note;               // 原调
  bpm: number;             // 建议速度
  description: string;     // 描述
  tabs: TabNote[];         // TAB 谱数据
  audioTips?: string;      // 演奏提示
}
```

### TabNote 接口
```typescript
interface TabNote {
  string: number;          // 弦号 (0-5)
  fret: number;            // 品位
  duration: number;        // 时值 (秒)
  technique?: string;      // 演奏技巧
  bendAmount?: number;     // 推弦量
}
```

## 🎯 未来扩展

### 可能的改进方向
1. **更多乐句**：持续添加新的经典乐句
2. **用户上传**：允许用户分享自己的乐句
3. **慢速播放**：添加速度调节功能
4. **循环播放**：支持乐句循环练习
5. **录音对比**：录制用户演奏并对比
6. **MIDI 导入**：支持导入 MIDI 文件
7. **乐句组合**：创建乐句序列练习

## ⚖️ 版权说明

所有乐句均基于**公共领域的 Blues 理论**和**通用演奏模式**创建，不涉及特定艺术家的原版作品版权。这些乐句是：

- ✅ **风格化的教学示例**（inspired by）
- ✅ **通用的 Blues 模式**
- ✅ **理论性的演奏技巧**
- ❌ **非特定录音的复制**

## 🤝 贡献

欢迎贡献新的乐句！请确保：
1. 基于通用 Blues 理论
2. 包含完整的 TAB 谱数据
3. 提供清晰的演奏提示
4. 不侵犯版权

---

**享受 Blues 之旅！** 🎸✨
