# 音频文件按调性分类功能说明

## ✅ 功能特性

现在音频文件已按调性分类，每个调可以有多个不同风格的伴奏文件。

### 🎯 工作原理

1. **点击调式按钮**: 点击任意调（如 A 调）
2. **抽屉显示**: 只显示该调的音频文件列表
3. **多个选择**: 每个调可以有多个不同风格的伴奏

### 📁 文件结构

```typescript
const audioFilesByKey = {
  'A': [
    { name: 'A 调 Blues 伴奏', url: '/blues-mp3/A.mp3', bpm: 125, description: '经典 12 小节 Blues' },
    { name: 'A 调 Rock 伴奏', url: '/blues-mp3/A-rock.mp3', bpm: 140, description: '摇滚风格' },
  ],
  'C': [
    { name: 'C 调 Blues 伴奏', url: '/blues-mp3/C.mp3', bpm: 120 },
    { name: 'C 调 Funk 伴奏', url: '/blues-mp3/C-funk.mp3', bpm: 110 },
  ],
  // ... 其他调
};
```

### 🎨 音频卡片显示

每个音频文件显示：
- **名称**: 大字体显示（如"A 调 Blues 伴奏"）
- **描述**: 紫色文字（如"经典 12 小节 Blues"）
- **BPM**: 原始速度
- **路径**: 文件路径
- **音乐图标**: 右侧显示音乐图标

### 📝 添加新音频文件

#### 方法1：为现有调添加新风格

```typescript
'A': [
  { name: 'A 调 Blues 伴奏', url: '/blues-mp3/A.mp3', bpm: 125, description: '经典 12 小节 Blues' },
  { name: 'A 调 Rock 伴奏', url: '/blues-mp3/A-rock.mp3', bpm: 140, description: '摇滚风格' },
  { name: 'A 调 Jazz 伴奏', url: '/blues-mp3/A-jazz.mp3', bpm: 110, description: '爵士风格' },
],
```

#### 方法2：为新调添加音频

```typescript
'D': [
  { name: 'D 调 Blues 伴奏', url: '/blues-mp3/D.mp3', bpm: 120, description: '标准 Blues' },
  { name: 'D 调 Country 伴奏', url: '/blues-mp3/D-country.mp3', bpm: 130, description: '乡村风格' },
],
```

### 🎯 使用示例

#### 场景1：A 调有多个伴奏

1. 点击 A 调按钮
2. 抽屉显示：
   - A 调 Blues 伴奏（125 BPM）
   - A 调 Rock 伴奏（140 BPM）
   - A 调 Jazz 伴奏（110 BPM）
3. 选择想要的风格
4. 加载并播放

#### 场景2：C 调有不同风格

1. 点击 C 调按钮
2. 抽屉显示：
   - C 调 Blues 伴奏（120 BPM）
   - C 调 Funk 伴奏（110 BPM）
3. 选择合适的风格

### 🎨 视觉设计

#### 音频卡片
- **背景**: 半透明白色
- **悬停**: 放大 + 边框高亮
- **布局**: 左侧信息 + 右侧图标
- **图标**: 音乐符号（8x8）

#### 空状态
- **图标**: 📁 大文件夹图标
- **提示**: "暂无可用的音频文件"
- **说明**: "请在 public/blues-mp3 目录下添加 X.mp3 文件"

### 📂 文件组织建议

```
public/
└── blues-mp3/
    ├── A.mp3           # A 调 Blues
    ├── A-rock.mp3      # A 调 Rock
    ├── A-jazz.mp3      # A 调 Jazz
    ├── C.mp3           # C 调 Blues
    ├── C-funk.mp3      # C 调 Funk
    ├── D.mp3           # D 调 Blues
    └── ...
```

### 🔧 配置字段说明

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| name | string | ✅ | 音频名称，显示在列表中 |
| url | string | ✅ | 音频文件路径 |
| bpm | number | ✅ | 原始 BPM 速度 |
| description | string | ❌ | 风格描述，紫色显示 |

### 💡 最佳实践

1. **命名规范**: 使用 `调名-风格.mp3` 格式
   - ✅ `A-blues.mp3`, `A-rock.mp3`
   - ❌ `audio1.mp3`, `track2.mp3`

2. **描述信息**: 添加有意义的描述
   - ✅ "经典 12 小节 Blues"
   - ✅ "快节奏摇滚风格"
   - ❌ "音频文件"

3. **BPM 标注**: 准确标注原始 BPM
   - 系统会根据用户设置的 BPM 自动调速
   - 原始 BPM 用于参考

4. **文件大小**: 建议 < 10MB
   - 加载更快
   - 用户体验更好

### 🎉 优势

✅ **按调分类**: 每个调独立的音频列表
✅ **多种风格**: 同一调可以有多个不同风格
✅ **清晰展示**: 名称、描述、BPM 一目了然
✅ **易于扩展**: 只需添加配置即可
✅ **用户友好**: 选择更加直观

---

**更新时间**: 2025-01-07  
**版本**: v4.0.0
